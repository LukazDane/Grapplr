{% extends "layout.html" %} {% block body %}
<img id="uploadPreview" style="width: 100px; height: 100px;" />
<form
  method="POST"
  action="/upload"
  enctype="multipart/form-data"
  onchange="PreviewImage();"
  class="form"
>
  <h1>Upload photo</h1>
  {{ form.hidden_tag() }}
  <!-- <div>
    <label for="inputFile">Prof Image</label>
    <input id="uploadImage" type="file" name="inputFile" accept='image/*'></input>
  </div> -->
  <div class="form-group">
    {{ form.picture.label() }}
    {{ form.picture(class="form-control-file")}}
    {% if form.picture.errors %} {% for error in form.picture.errors %}
    <span class='text-danger'>{{ error }}</span></br>
    {% endfor %} {% endif %}
  </div>
  <button type="submit" class="btn btn-default">Submit</button>
</form>

<script type="text/javascript">
  function PreviewImage() {
    var oFReader = new FileReader();
    oFReader.readAsDataURL(document.getElementById("uploadImage").files[0]);

    oFReader.onload = function(oFREvent) {
      document.getElementById("uploadPreview").src = oFREvent.target.result;
    };
  }
</script>
{% endblock %}
